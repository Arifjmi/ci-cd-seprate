pipeline {
 agent any
 stages {

  stage('Checkout') {
   steps { checkout scm }
  }

  stage('Build Image') {
   steps {
    sh 'docker build -t arifreza/web:${BUILD_NUMBER} .'
   }
  }

  stage('Push Image') {
   steps {
    sh 'docker push arifreza/web:${BUILD_NUMBER}'
   }
  }
 }
}

